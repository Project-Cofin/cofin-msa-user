<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">


<style>
    th{color:#fff;}
</style>

<div class="row">
    <div class="col">
        <div class="card card-body">
            <input type="text" id="search-input" class="form-control">
        </div>
    </div>
</div>

<table class="table table-striped">
    <tr class="bg-info">
        <th class="bg-info" data-colname="name" data-order="desc">name</th>
        <th data-colname="age" data-order="desc">age</th>
        <th data-colname="bday" data-order="desc">bday</th>
    </tr>
    <tbody id="myTable"></tbody>
</table>

<script>
    var myArray =[
    // {'name':'Michael', 'age':'30', 'bday':'11/10/1989'},
    // {'name':'Mila', 'age':'32', 'bday':'10/1/1989'},
    // {'name':'Paul', 'age':'29', 'bday':'10/14/1990'},
    // {'name':'Dennis', 'age':'25', 'bday':'11/29/1993'},
    // {'name':'Tim', 'age':'27', 'bday':'3/12/1991'},
    // {'name':'Erik', 'age':'24', 'bday':'10/31/1995'},
    ]

    buildTable(myArray)

    $.ajax({
        method:'GET',
        url:'src\medpt\components\MedPoint20210905.xlsx',
        success:function(response){
            myAray = response
            console.log(myArray)
        }
    })

    // $('#search-input').on('keyup', function(){
    //     var value = $(this).val()
    //     console.log('value:', value)
    //     var data = searchTable(value,myArray)
    //     buildTable(data)

    // function searchTable(value,data){
    //     var filteredData =[]
    //     for (var i=0; i<data.legnth; i++){
    //         value = value.toLowerCase()
    //         var name = data[i].name.toLowerCase()
    //         if (name.includes(value)){
    //             filteredData.push(data[i])
    //         }
    //     }
    //     return filteredData
    // } 
    
    
    // $('th').on('click', function(){
    //  var column = $(this).data('colname')
    //  var order = $(this).data('order')
    //  var text = $(this).html()
    //  text = text.substring(0, text.length - 1);
     
     
     
    //  if (order == 'desc'){
    //     myArray = myArray.sort((a, b) => a[column] > b[column] ? 1 : -1)
    //     $(this).data("order","asc");
    //     text += '&#9660'
    //  }else{
    //     myArray = myArray.sort((a, b) => a[column] < b[column] ? 1 : -1)
    //     $(this).data("order","desc");
    //     text += '&#9650'
    //  }

    // $(this).html(text)
    // buildTable(myArray)
    // })

    function buildTable(data){
        var table = document.getElementById('myTable')

        table.innerHTML = ''

        for (var i=0; i<data.length; i++){
            var row = `<tr>
                            <td>${data[i].name}</td>
                            <td>${data[i].age}</td>
                            <td>${data[i].bday}</td>
                        </tr>`
            table.innerHTML += row
        }
    }
</script>